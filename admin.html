<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Admin Panel</title>
<link rel="stylesheet" href="style.css">
<script type="module" src="src/assets/js/counter.js" defer></script>
</head>
<body>
<main class="container small">
<h1>Admin Panel</h1>

<div class="panel-row">
  <label for="manual-day">Set Day (number)</label>
  <input id="manual-day" type="number" min="0">
  <button id="set-day-btn">Set Day</button>
</div>

<div class="panel-row">
  <p>Current Day: <strong id="current-day">0</strong></p>
</div>

<div class="panel-row">
  <p>Current Time: <span id="live-timer">00:00:00.000</span></p>
</div>

<p style="margin-top:16px;"><a href="dashboard.html">Go to Dashboard</a></p>
</main>

<script type="module">
import { getDay, setDay, updateCounterDisplay } from './src/assets/js/counter.js';
const current = document.getElementById('current-day');
const input = document.getElementById('manual-day');
const btn = document.getElementById('set-day-btn');

async function refresh() {
  const v = await getDay();
  current.textContent = String(v);
  updateCounterDisplay();
}

btn.addEventListener('click', async()=>{
  const n = Number(input.value);
  if(Number.isNaN(n) || n<0) return alert('Enter valid number');
  await setDay(n);
  await refresh();
});

document.addEventListener('DOMContentLoaded', refresh);
</script>
</body>
</html>
